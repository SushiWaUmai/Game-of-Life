(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1105:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2739)}])},2739:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return le}});var r,o,i,a=t(3010),l=(t(5170),t(586)),c=["w","s","a","d"],s={w:!1,s:!1,a:!1,d:!1};function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16)/255,parseInt(n[2],16)/255,parseInt(n[3],16)/255,1]:null},h=function(e){var n,t=f(e,4),r=t[0],o=t[1],i=t[2];t[3];return n=f([r,o,i].map((function(e){return Math.round(255*e)})),3),r=n[0],o=n[1],i=n[2],"#".concat([r,o,i].map((function(e){return e.toString(16).padStart(2,"0")})).reduce((function(e,n){return e+n})))};function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v,p,b,g,w,y=128,j=128,k=!0,C=[246/255,192/255,208/255,1],N=[15/255,26/255,25/255,1],_=[42/255,.2,60/255,1],E=[0,0],S=1,O=[0,0,-1,-1],T=!1,A=function(e){var n=d(e);n&&(C=n)},P=function(){return h(C)},R=function(){return h(N)},M=function(){return h(_)},U=function(e){var n=d(e);n&&(N=n)},I=function(e){var n=d(e);n&&(_=n)},K=function(e,n,t,r){return[Math.floor((e/n*S+E[0])*y),Math.floor(((1-t/r)*S+E[1])*j)]},L=function(e,n,t,r){return[Math.floor(((e+1)/y-E[0])/S*n),Math.floor((1-((t+1)/j-E[1])/S)*r)]},G=function(e,n){return e+n*y},X=function(e,n,t){return e+n*t},Y=function(){v=o()},W=function(){v=i()},B=function(){v=r(v,y,j)},D=function(){E=[0,0],S=1,V()},V=function(){O=[0,0,-1,-1]},z=function(){k=!k},H=function(){T=!T},$=function(e){for(var n=x(O,4),t=n[0],r=n[1],o=n[2],i=n[3],a=r;a<=i;a++)for(var l=t;l<=o;l++)v[G(l,a)]=e},F=function(){var e=JSON.stringify(w),n=new Blob([e],{type:"application/json"}),t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download="cells.json",r.click()},J=function(){var e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=function(){if(e.files){var n=e.files[0],t=new FileReader;t.onload=function(){var e=JSON.parse(t.result);w=e},t.readAsText(n)}},e.click()},q=function(e){var n=x(K(e.mouseX,e.width,e.mouseY,e.height),2);!function(e,n){if(w){for(var t=e+w.width-1,r=n+w.height-1,o=n;o<=r;o++)for(var i=e;i<=t;i++)v[G(i,o)]=w.cells[X(i-e,o-n,w.width)];O=[e,n,t,r]}}(n[0],n[1])},Q=function(e,n,t){var r=Math.exp(.2*e),o=S*r,i=S-o,a=E[0]+n*i,l=E[1]+t*i;E=[a,l],S=o},Z=function(e){var n=0;e.preload=function(){p=e.loadShader("shaders/draw.vert","shaders/draw.frag")},e.setup=function(){var n=Math.min(e.windowWidth,e.windowHeight),t=(b=e.createCanvas(n,n,e.WEBGL)).elt;t.addEventListener("contextmenu",(function(e){return e.preventDefault()}));var a=t.getContext("webgl");a&&(a.disable(a.DEPTH_TEST),e.pixelDensity(1),function(e,n){var t=new l.GPU;r=t.createKernel((function(e,n,t){for(var r=this.thread.x,o=r%n,i=Math.floor(r/n),a=e[r],l=0,c=-1;c<=1;c++)for(var s=-1;s<=1;s++)l+=e[(o+c+n)%n+(i+s+t)%t*n];if(l-=a,0!=a){if(l<2||l>3)return 0}else if(3===l)return 1;return a})).setOutput([e*n]),o=t.createKernel((function(){return 0})).setOutput([e*n]),i=t.createKernel((function(){return Math.random()>.5?1:0})).setOutput([e*n])}(y,j),g=e.createGraphics(y,j),b.getTexture(g).setInterpolation(e.NEAREST,e.NEAREST),e.background(0),e.fill(255),W(),e.frameRate(60),e.windowResized=function(){var n=Math.min(e.windowWidth,e.windowHeight);e.resizeCanvas(n,n)})},e.keyPressed=function(){t(),function(e){c.includes(e.key)&&(s[e.key]=!0)}(e)},e.keyReleased=function(){!function(e){c.includes(e.key)&&(s[e.key]=!1)}(e)},e.mouseWheel=function(n){var t=n.deltaY>0?1:-1;Q(t,e.mouseX/e.width,1-e.mouseY/e.height)},e.mousePressed=function(){if(e.mouseButton===e.CENTER&&(T=!0),T){var n=x(K(e.mouseX,e.width,e.mouseY,e.height),2),t=n[0],r=n[1];O=[t,r,t,r]}},e.mouseDragged=function(){if(T){var n=x(K(e.mouseX,e.width,e.mouseY,e.height),2),t=n[0],r=n[1],o=x(O,2),i=o[0],a=o[1];O=(O=[i,a,t,r]).map((function(e){return Math.max(Math.min(e,127),0)}))}},e.mouseReleased=function(){if(T){var n=x(O,4),t=n[0],r=n[1],o=n[2],i=n[3];t>o&&(O=[o,r,t,i]),r>i&&(O=[t,i,o,r])}e.mouseButton===e.CENTER&&(T=!1)};var t=function(){switch(e.key){case" ":z();break;case"r":Y();break;case"k":D();break;case"b":V();break;case"Enter":B();break;case"e":$(0);break;case"f":$(1);break;case"c":!function(){for(var e=x(O,4),n=e[0],t=e[1],r=e[2],o=e[3],i=r-n+1,a=o-t+1,l=new Float32Array(i*a),c=t;c<=o;c++)for(var s=n;s<=r;s++)l[X(s-n,c-t,i)]=v[G(s,c)];w={width:i,height:a,cells:l}}();break;case"v":q(e)}},a=function(){e.background(0),g.loadPixels();for(var n=0;n<j;n++)for(var t=0;t<y;t++){var r=255*v[G(t,n)];g.set(t,n,[r,r,r,255])}g.updatePixels(),e.shader(p),p.setUniform("_cells",g),p.setUniform("_gridSize",[e.width/y,e.height/j]),p.setUniform("_resolution",[e.width,e.height]),p.setUniform("_enabledColor",C),p.setUniform("_disabledColor",N),p.setUniform("_gridColor",_),p.setUniform("_gridThickness",1),p.setUniform("_offset",E),p.setUniform("_scale",S),e.quad(-1,-1,1,-1,1,1,-1,1),g.remove(),e.resetShader();var o,i=x(O,4),a=i[0],l=i[1],c=i[2],s=i[3];o=x(function(e,n,t,r,o,i){var a,l;return[e=(a=x(L(e-1,o,n-1,i).map((function(e){return e-o/2})),2))[0],n=a[1],t=(l=x(L(t,o,r,i).map((function(e){return e-i/2})),2))[0],r=l[1]]}(a,l,c,s,e.width,e.height),4),a=o[0],l=o[1],c=o[2],s=o[3],e.stroke(255),e.strokeWeight(3),e.line(a,l,c,l),e.line(c,l,c,s),e.line(c,s,a,s),e.line(a,s,a,l)};e.draw=function(){k&&(n+=e.deltaTime/1e3)>.2&&(B(),n=0),function(){if(e.mouseIsPressed&&!T&&e.mouseX<e.width&&e.mouseY<e.height){var n=x(K(e.mouseX,e.width,e.mouseY,e.height),2),t=n[0],r=n[1];switch(e.mouseButton){case e.LEFT:v[G(t,r)]=1;break;case e.RIGHT:v[G(t,r)]=0}}var o=.01*S;s.a?E[0]-=o:s.d&&(E[0]+=o),s.w?E[1]+=o:s.s&&(E[1]-=o)}(),a()}},ee=(0,t(702).default)((function(){return Promise.all([t.e(270),t.e(864)]).then(t.bind(t,864)).then((function(e){return e.ReactP5Wrapper}))}),{loadableGenerated:{webpack:function(){return[864]}},ssr:!1}),ne=function(){return(0,a.jsx)(ee,{sketch:Z})},te=t(4399),re=t(1622),oe=function(e){var n=e.onClick,t=e.children;return(0,a.jsx)("button",{className:"bg-stone-700 btn py-1 px-3 rounded",onClick:n,children:t})},ie=function(e){var n=e.children,t=e.onChange,r=e.defaultValue;return console.log(r),(0,a.jsxs)("div",{className:"bg-stone-700 py-1 px-3 rounded flex justify-between",children:[(0,a.jsx)("div",{children:n}),(0,a.jsx)("input",{type:"color",defaultValue:r(),onChange:function(e){return t(e.target.value)}})]})},ae=function(){return(0,a.jsxs)("div",{className:"p-4 flex flex-col w-full",children:[(0,a.jsx)("h1",{className:"text-3xl xl:text-5xl",children:"Conway's Game of Life"}),(0,a.jsx)("div",{className:"m-2",children:(0,a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",className:"text-orchid inline-block btn btn-effect",children:"What is Conway's Game of Life?"})}),(0,a.jsx)("div",{className:"my-5 flex-grow",children:(0,a.jsxs)(re.OK.Group,{children:[(0,a.jsxs)(re.OK.List,{className:"flex justify-around",children:[(0,a.jsx)(re.OK,{className:"tab",children:"Controls"}),(0,a.jsx)(re.OK,{className:"tab",children:"Colors"}),(0,a.jsx)(re.OK,{className:"tab",children:"Advanced"})]}),(0,a.jsxs)(re.OK.Panels,{className:"bg-stone-800 p-5 rounded-b-lg",children:[(0,a.jsx)(re.OK.Panel,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(oe,{onClick:Y,children:"Clear"}),(0,a.jsx)(oe,{onClick:D,children:"Reset Position"}),(0,a.jsx)(oe,{onClick:W,children:"Randomize"}),(0,a.jsx)(oe,{onClick:z,children:"Toggle Loop"}),(0,a.jsx)(oe,{onClick:H,children:"Toggle Selection"})]})}),(0,a.jsx)(re.OK.Panel,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(ie,{defaultValue:P,onChange:A,children:"Enabled Color"}),(0,a.jsx)(ie,{defaultValue:R,onChange:U,children:"Disabled Color"}),(0,a.jsx)(ie,{defaultValue:M,onChange:I,children:"Grid Color"})]})}),(0,a.jsx)(re.OK.Panel,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(oe,{onClick:F,children:"Save clipboard to file"}),(0,a.jsx)(oe,{onClick:J,children:"Load clipboard from file"})]})})]})]})}),(0,a.jsxs)("div",{className:"flex-shrink flex gap-x-3 flex-row-reverse",children:[(0,a.jsx)("button",{className:"bg-stone-800 btn py-2 px-2 rounded",onClick:function(){return Q(1,.5,.5)},children:(0,a.jsx)(te.I$P,{})}),(0,a.jsx)("button",{className:"bg-stone-800 btn py-2 px-2 rounded",onClick:function(){return Q(-1,.5,.5)},children:(0,a.jsx)(te.SxY,{})})]})]})},le=function(){return(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,a.jsx)(ne,{}),(0,a.jsx)(ae,{})]})}}},function(e){e.O(0,[598,656,664,774,888,179],(function(){return n=1105,e(e.s=n);var n}));var n=e.O();_N_E=n}]);