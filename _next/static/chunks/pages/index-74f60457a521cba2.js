(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1105:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2739)}])},2739:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return D}});var r,o,i,a=t(3010),s=(t(5170),t(586)),c=["w","s","a","d"],l={w:!1,s:!1,a:!1,d:!1};function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d,h,m,x,p,b=128,v=128,w=!0,g=[246/255,192/255,208/255,1],k=[15/255,26/255,25/255,1],y=[42/255,.2,60/255,1],j=[0,0],N=1,C=[0,0,-1,-1],_=function(e,n,t,r){return[Math.floor((e/n*N+j[0])*b),Math.floor(((1-t/r)*N+j[1])*v)]},E=function(e,n,t,r){return[Math.floor(((e+1)/b-j[0])/N*n),Math.floor((1-((t+1)/v-j[1])/N)*r)]},O=function(e,n){return e+n*b},T=function(e,n,t){return e+n*t},P=function(){d=o()},R=function(){d=i()},S=function(){d=r(d,b,v)},U=function(){j=[0,0],N=1,K()},K=function(){C=[0,0,-1,-1]},M=function(){w=!w},A=function(e){for(var n=f(C,4),t=n[0],r=n[1],o=n[2],i=n[3],a=r;a<=i;a++)for(var s=t;s<=o;s++)d[O(s,a)]=e},L=function(e){var n=f(_(e.mouseX,e.width,e.mouseY,e.height),2);!function(e,n){if(p){for(var t=e+p.width-1,r=n+p.height-1,o=n;o<=r;o++)for(var i=e;i<=t;i++)d[O(i,o)]=p.cells[T(i-e,o-n,p.width)];C=[e,n,t,r]}}(n[0],n[1])},G=function(e,n,t){var r=Math.exp(.2*e),o=N*r,i=N-o,a=j[0]+n*i,s=j[1]+t*i;j=[a,s],N=o},X=function(e){var n=0;e.preload=function(){h=e.loadShader("shaders/draw.vert","shaders/draw.frag")},e.setup=function(){var n=Math.min(e.windowWidth,e.windowHeight),t=(m=e.createCanvas(n,n,e.WEBGL)).elt;t.addEventListener("contextmenu",(function(e){return e.preventDefault()}));var a=t.getContext("webgl");a&&(a.disable(a.DEPTH_TEST),e.pixelDensity(1),function(e,n){var t=new s.GPU;r=t.createKernel((function(e,n,t){for(var r=this.thread.x,o=r%n,i=Math.floor(r/n),a=e[r],s=0,c=-1;c<=1;c++)for(var l=-1;l<=1;l++)s+=e[(o+c+n)%n+(i+l+t)%t*n];if(s-=a,0!=a){if(s<2||s>3)return 0}else if(3===s)return 1;return a})).setOutput([e*n]),o=t.createKernel((function(){return 0})).setOutput([e*n]),i=t.createKernel((function(){return Math.random()>.5?1:0})).setOutput([e*n])}(b,v),x=e.createGraphics(b,v),m.getTexture(x).setInterpolation(e.NEAREST,e.NEAREST),e.background(0),e.fill(255),R(),e.frameRate(60),e.windowResized=function(){var n=Math.min(e.windowWidth,e.windowHeight);e.resizeCanvas(n,n)})},e.keyPressed=function(){t(),function(e){c.includes(e.key)&&(l[e.key]=!0)}(e)},e.keyReleased=function(){!function(e){c.includes(e.key)&&(l[e.key]=!1)}(e)},e.mouseWheel=function(n){var t=n.deltaY>0?1:-1;G(t,e.mouseX/e.width,1-e.mouseY/e.height)},e.mousePressed=function(){if(e.mouseButton===e.CENTER){var n=f(_(e.mouseX,e.width,e.mouseY,e.height),2),t=n[0],r=n[1];C=[t,r,t,r]}},e.mouseDragged=function(){if(e.mouseButton===e.CENTER){var n=f(_(e.mouseX,e.width,e.mouseY,e.height),2),t=n[0],r=n[1],o=f(C,2),i=o[0],a=o[1];C=(C=[i,a,t,r]).map((function(e){return Math.max(Math.min(e,127),0)}))}},e.mouseReleased=function(){if(e.mouseButton===e.CENTER){var n=f(C,4),t=n[0],r=n[1],o=n[2],i=n[3];t>o&&(C=[o,r,t,i]),r>i&&(C=[t,i,o,r])}};var t=function(){switch(e.key){case" ":M();break;case"r":P();break;case"k":U();break;case"b":K();break;case"Enter":S();break;case"e":A(0);break;case"f":A(1);break;case"c":!function(){for(var e=f(C,4),n=e[0],t=e[1],r=e[2],o=e[3],i=r-n+1,a=o-t+1,s=new Float32Array(i*a),c=t;c<=o;c++)for(var l=n;l<=r;l++)s[T(l-n,c-t,i)]=d[O(l,c)];p={width:i,height:a,cells:s}}();break;case"v":L(e)}},a=function(){e.background(0),x.loadPixels();for(var n=0;n<v;n++)for(var t=0;t<b;t++){var r=255*d[O(t,n)];x.set(t,n,[r,r,r,255])}x.updatePixels(),e.shader(h),h.setUniform("_cells",x),h.setUniform("_gridSize",[e.width/b,e.height/v]),h.setUniform("_resolution",[e.width,e.height]),h.setUniform("_enabledColor",g),h.setUniform("_disabledColor",k),h.setUniform("_gridColor",y),h.setUniform("_gridThickness",1),h.setUniform("_offset",j),h.setUniform("_scale",N),e.quad(-1,-1,1,-1,1,1,-1,1),x.remove(),e.resetShader();var o,i=f(C,4),a=i[0],s=i[1],c=i[2],l=i[3];o=f(function(e,n,t,r,o,i){var a,s;return[e=(a=f(E(e-1,o,n-1,i).map((function(e){return e-o/2})),2))[0],n=a[1],t=(s=f(E(t,o,r,i).map((function(e){return e-i/2})),2))[0],r=s[1]]}(a,s,c,l,e.width,e.height),4),a=o[0],s=o[1],c=o[2],l=o[3],e.stroke(255),e.strokeWeight(3),e.line(a,s,c,s),e.line(c,s,c,l),e.line(c,l,a,l),e.line(a,l,a,s)};e.draw=function(){w&&(n+=e.deltaTime/1e3)>.2&&(S(),n=0),function(){if(e.mouseIsPressed&&e.mouseX<e.width&&e.mouseY<e.height){var n=f(_(e.mouseX,e.width,e.mouseY,e.height),2),t=n[0],r=n[1];switch(e.mouseButton){case e.LEFT:d[O(t,r)]=1;break;case e.RIGHT:d[O(t,r)]=0}}var o=.01*N;l.a?j[0]-=o:l.d&&(j[0]+=o),l.w?j[1]+=o:l.s&&(j[1]-=o)}(),a()}},Y=(0,t(702).default)((function(){return Promise.all([t.e(270),t.e(864)]).then(t.bind(t,864)).then((function(e){return e.ReactP5Wrapper}))}),{loadableGenerated:{webpack:function(){return[864]}},ssr:!1}),I=function(){return(0,a.jsx)(Y,{sketch:X})},W=t(4399),B=t(1622),z=function(){return(0,a.jsxs)("div",{className:"p-4 flex flex-col w-full",children:[(0,a.jsx)("h1",{className:"text-3xl xl:text-5xl",children:"Conway's Game of Life"}),(0,a.jsx)("div",{className:"m-2",children:(0,a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",className:"text-orchid inline-block btn btn-effect",children:"What is Conway's Game of Life?"})}),(0,a.jsx)("div",{className:"my-5 flex-grow",children:(0,a.jsxs)(B.OK.Group,{children:[(0,a.jsxs)(B.OK.List,{className:"flex justify-around",children:[(0,a.jsx)(B.OK,{className:"tab",children:"Controls"}),(0,a.jsx)(B.OK,{className:"tab",children:"Colors"}),(0,a.jsx)(B.OK,{className:"tab",children:"Advanced"})]}),(0,a.jsxs)(B.OK.Panels,{className:"bg-stone-800 p-5 rounded-b-lg",children:[(0,a.jsx)(B.OK.Panel,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("button",{className:"bg-stone-700 btn py-1 px-3 rounded",onClick:function(){return P()},children:"Clear"}),(0,a.jsx)("button",{className:"bg-stone-700 btn py-1 px-3 rounded",onClick:function(){return U()},children:"Reset Position"}),(0,a.jsx)("button",{className:"bg-stone-700 btn py-1 px-3 rounded",onClick:function(){return R()},children:"Randomize"}),(0,a.jsx)("button",{className:"bg-stone-700 btn py-1 px-3 rounded",onClick:function(){return M()},children:"Toggle Loop"})]})}),(0,a.jsx)(B.OK.Panel,{children:(0,a.jsx)("div",{className:"flex flex-col gap-5"})}),(0,a.jsx)(B.OK.Panel,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("button",{className:"bg-stone-700 btn py-1 px-3 rounded",onClick:function(){return function(){var e=JSON.stringify(p),n=new Blob([e],{type:"application/json"}),t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download="cells.json",r.click()}()},children:"Save clipboard to file"}),(0,a.jsx)("button",{className:"bg-stone-700 btn py-1 px-3 rounded",onClick:function(){return function(){var e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=function(){if(e.files){var n=e.files[0],t=new FileReader;t.onload=function(){var e=JSON.parse(t.result);p=e},t.readAsText(n)}},e.click()}()},children:"Load clipboard from file"})]})})]})]})}),(0,a.jsxs)("div",{className:"flex-shrink flex gap-x-3 flex-row-reverse",children:[(0,a.jsx)("button",{className:"bg-stone-800 btn py-2 px-2 rounded",onClick:function(){return G(1,.5,.5)},children:(0,a.jsx)(W.I$P,{})}),(0,a.jsx)("button",{className:"bg-stone-800 btn py-2 px-2 rounded",onClick:function(){return G(-1,.5,.5)},children:(0,a.jsx)(W.SxY,{})})]})]})},D=function(){return(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,a.jsx)(I,{}),(0,a.jsx)(z,{})]})}}},function(e){e.O(0,[598,656,664,774,888,179],(function(){return n=1105,e(e.s=n);var n}));var n=e.O();_N_E=n}]);